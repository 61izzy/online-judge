extends user/user_base
- load media_extract

block user_media
    include timezone/media
    | #{form.media|media_type:"css"}
    style.
        .sortedm2m-container, .sortedm2m-container p.selector-filter {
            width: 300px;
        }

        .sortedm2m-container p.selector-filter input {
            width: 262px;
        }

        ul.sortedm2m {
            width: 284px;
            min-height: 100px;
            max-height: 200px;
        }

block js_media
    include timezone/js_media
    | #{form.media|media_type:"js"}

block title_ruler

block title_row
    - var user_tab = 'edit'
    - var user = request.user.profile
    include user/user_tabs

block body
    form.form-area(action='', method='post')
        - csrf_token
        table(border=0, style='text-align:left')
            tr
                th
                    b Display name:
                td
                    | #{form.name}
            tr
                th
                    b Self-description:
                td
                    | #{form.about}
            tr
                th
                    b Organizations:
                td
                    | #{form.organizations}
            tr
                th
                    b Location:
                td
                    | #{form.timezone}
                    = ' or '
                    a#open-map(href='#', data-featherlight='.map-wrap')
                        | pick from map
            tr
                th
                    b Preferred language:
                td
                    | #{form.language}
            tr
                th
                    b Ace theme:
                td
                    | #{form.ace_theme}
        a(href='http://www.gravatar.com/', title='Change your avatar...', target='_blank') Change your avatar
        br
        hr
        a(href='{% url "password_change" %}') Change your password
        hr
        input(type='submit', style='float:right', value='Update profile')
    div.map-wrap
        div.map-inset
            div.map-axis-x
            div.map-axis-y
